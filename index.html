<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión de Turnos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Fuentes bonitas de Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            font-family: 'Poppins', 'Inter', sans-serif;
        }
    </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-blue-50 via-blue-100 to-blue-300 font-sans">

    <!-- Pantalla: Login -->
    <section id="login" class="h-screen flex items-center justify-center">
        <div class="bg-white/90 p-10 rounded-2xl shadow-2xl w-full max-w-sm border border-blue-300">
            <h1 class="text-3xl font-extrabold mb-6 text-center text-blue-700 underline decoration-blue-400">Iniciar
                sesión</h1>
            <form class="space-y-5">
                <input type="text" placeholder="Usuario"
                    class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                <input type="password" placeholder="Contraseña"
                    class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                <button type="button" onclick="showSection('dashboard')"
                    class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white p-3 rounded-lg font-semibold shadow hover:scale-105 transition">Ingresar</button>
                <p class="text-sm text-center mt-2 text-blue-600 cursor-pointer hover:underline"
                    onclick="showSection('recuperar')">¿Olvidaste tu contraseña?</p>
            </form>
        </div>
    </section>

    <!-- Pantalla: Recuperar contraseña -->
    <section id="recuperar" class="hidden h-screen flex items-center justify-center">
        <div class="bg-white/90 p-10 rounded-2xl shadow-2xl w-full max-w-sm border border-blue-300">
            <h2 class="text-2xl font-bold mb-6 text-center text-blue-700 underline decoration-blue-400">Recuperar
                contraseña</h2>
            <form class="space-y-5">
                <input type="email" placeholder="Correo electrónico"
                    class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                <button type="button"
                    class="w-full bg-gradient-to-r from-blue-500 to-blue-700 text-white p-3 rounded-lg font-semibold shadow hover:scale-105 transition">Enviar
                    instrucciones</button>
                <p class="text-sm text-center mt-2 text-blue-600 cursor-pointer hover:underline"
                    onclick="showSection('login')">Volver al inicio</p>
            </form>
        </div>
    </section>

    <!-- Pantalla: Dashboard -->
    <section id="dashboard" class="hidden h-screen flex flex-col items-center justify-center gap-6">
        <h2 class="text-3xl font-extrabold text-blue-800 underline decoration-blue-400 mb-4">Bienvenido</h2>
        <div class="flex flex-col gap-4 w-full max-w-xs">
            <button onclick="showSection('solicitarTurno')"
                class="bg-gradient-to-r from-blue-400 to-blue-600 text-white px-4 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Solicitar
                Turno</button>
            <button onclick="showSection('historial')"
                class="bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Ver
                Historial</button>
            <button onclick="showSection('medico')"
                class="bg-gradient-to-r from-blue-600 to-blue-900 text-white px-4 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Médico</button>
            <button onclick="showSection('calendario')"
                class="bg-gradient-to-r from-blue-500 to-blue-700 text-white px-4 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Ver
                Calendario</button>
        </div>
    </section>

    <!-- Pantalla: Solicitar Turno -->
    <section id="solicitarTurno" class="hidden h-screen flex items-center justify-center">
        <div class="bg-white/90 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-blue-300">
            <h2 class="text-2xl font-bold mb-6 text-blue-700 underline decoration-blue-400">Solicitar Turno</h2>
            <form class="space-y-5">
                <select
                    class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                    <option>Especialidad</option>
                    <option>Clínica</option>
                    <option>Pediatría</option>
                </select>
                <input type="date"
                    class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                <select
                    class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                    <option>Horario</option>
                    <option>09:00</option>
                    <option>10:00</option>
                </select>
                <button type="button" onclick="showSection('confirmacion')"
                    class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white p-3 rounded-lg font-semibold shadow hover:scale-105 transition">Confirmar
                    Turno</button>
            </form>
        </div>
    </section>

    <!-- Pantalla: Confirmación de turno -->
    <section id="confirmacion" class="hidden h-screen flex items-center justify-center">
        <div class="bg-white/90 p-8 rounded-2xl shadow-2xl text-center border border-blue-300">
            <h2 class="text-3xl font-extrabold text-blue-700 mb-6 underline decoration-blue-400">¡Turno confirmado!</h2>
            <button onclick="showSection('dashboard')"
                class="bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Volver
                al Dashboard</button>
        </div>
    </section>

    <!-- Pantalla: Historial de Turnos -->
    <section id="historial" class="hidden h-screen flex flex-col items-center p-8">
        <h2 class="text-2xl font-bold mb-6 text-blue-700 underline decoration-blue-400">Historial de Turnos</h2>
        <ul class="w-full max-w-md space-y-3">
            <li class="bg-white/90 p-4 rounded-lg shadow border-l-4 border-blue-500">15/04/2025 - Clínica - 09:00</li>
            <li class="bg-white/90 p-4 rounded-lg shadow border-l-4 border-blue-700">20/04/2025 - Pediatría - 11:00</li>
        </ul>
        <button onclick="showSection('dashboard')"
            class="mt-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Volver</button>
    </section>

    <!-- Pantalla: Médico -->
    <section id="medico" class="hidden h-screen flex flex-col items-center p-8">
        <h2 class="text-2xl font-bold mb-6 text-blue-700 underline decoration-blue-400">Turnos asignados</h2>
        <ul class="w-full max-w-md space-y-3">
            <li class="bg-white/90 p-4 rounded-lg shadow border-l-4 border-blue-500">Juan Pérez - 15/04/2025 - 09:00
            </li>
            <li class="bg-white/90 p-4 rounded-lg shadow border-l-4 border-blue-700">Ana García - 20/04/2025 - 11:00
            </li>
        </ul>
        <p class="mt-6 font-semibold text-blue-800">Total de turnos: 2</p>
        <button onclick="showSection('dashboard')"
            class="mt-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Volver</button>
    </section>

    <script>
        function showSection(id) {
            document.querySelectorAll('section').forEach(sec => sec.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }
    </script>
    <!-- Pantalla: Calendario -->
    <section id="calendario" class="hidden h-screen flex flex-col items-center p-8">
        <h2 class="text-2xl font-bold mb-6 text-blue-700 underline decoration-blue-400">Calendario de Turnos</h2>
        <div class="w-full max-w-5xl bg-white/90 p-6 rounded-2xl shadow-xl border border-blue-200 flex flex-col relative">
            <!-- Botón para agregar evento -->
            <button id="btnAgregarEvento" class="absolute right-6 top-6 bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold shadow hover:scale-105 transition z-10">+ Agregar evento</button>
            <div class="flex w-full mt-10">
                <!-- Horas -->
                <div class="flex flex-col items-end pr-2 text-gray-500 text-xs w-16">
                    <span class="h-10">8 AM</span>
                    <span class="h-10">9 AM</span>
                    <span class="h-10">10 AM</span>
                    <span class="h-10">11 AM</span>
                    <span class="h-10">12 PM</span>
                    <span class="h-10">1 PM</span>
                    <span class="h-10">2 PM</span>
                    <span class="h-10">3 PM</span>
                    <span class="h-10">4 PM</span>
                    <span class="h-10">5 PM</span>
                    <span class="h-10">6 PM</span>
                    <span class="h-10">7 PM</span>
                    <span class="h-10">8 PM</span>
                </div>
                <!-- Grilla de eventos -->
                <div id="grillaEventos" class="relative flex-1 border-l border-blue-200" style="height: 520px;">
                    <!-- Eventos se renderizan aquí por JS -->
                </div>
            </div>
        </div>
        <button onclick="showSection('dashboard')"
            class="mt-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-3 rounded-lg font-semibold shadow hover:scale-105 transition">Volver</button>
        <!-- Modal emergente para agregar/editar evento -->
        <div id="modalEvento" class="fixed inset-0 bg-black/30 flex items-center justify-center z-50 hidden">
            <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md relative">
                <button id="cerrarModal" class="absolute right-4 top-4 text-gray-400 hover:text-blue-700 text-2xl">&times;</button>
                <h3 class="text-xl font-bold text-blue-700 mb-4">Agregar evento</h3>
                <form id="formEvento" class="space-y-4">
                    <input id="tituloEvento" type="text" required placeholder="Título del evento" class="w-full p-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 transition">
                    <div class="flex gap-2">
                        <input id="fechaInicio" type="date" required class="flex-1 p-2 border border-blue-200 rounded-lg">
                        <input id="horaInicio" type="time" required class="flex-1 p-2 border border-blue-200 rounded-lg">
                    </div>
                    <div class="flex gap-2">
                        <input id="fechaFin" type="date" required class="flex-1 p-2 border border-blue-200 rounded-lg">
                        <input id="horaFin" type="time" required class="flex-1 p-2 border border-blue-200 rounded-lg">
                    </div>
                    <div>
                        <label class="block mb-1 text-blue-700 font-semibold">Color</label>
                        <div class="flex gap-2">
                            <label><input type="radio" name="color" value="#facc15" class="accent-yellow-400" checked> <span class="inline-block w-5 h-5 rounded bg-yellow-400 border"></span></label>
                            <label><input type="radio" name="color" value="#a78bfa" class="accent-purple-400"> <span class="inline-block w-5 h-5 rounded bg-purple-400 border"></span></label>
                            <label><input type="radio" name="color" value="#38bdf8" class="accent-sky-400"> <span class="inline-block w-5 h-5 rounded bg-sky-400 border"></span></label>
                            <label><input type="radio" name="color" value="#f87171" class="accent-red-400"> <span class="inline-block w-5 h-5 rounded bg-red-400 border"></span></label>
                        </div>
                    </div>
                    <div class="flex justify-end gap-2">
                        <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold shadow hover:scale-105 transition">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </section>
    <script>
    // --- CALENDARIO DINÁMICO ---
    const eventos = [
      // Ejemplo inicial
      { titulo: 'PyE', fechaInicio: '2025-05-27', horaInicio: '14:00', fechaFin: '2025-05-27', horaFin: '16:00', color: '#facc15' },
      { titulo: 'Ing. Soft', fechaInicio: '2025-05-27', horaInicio: '18:00', fechaFin: '2025-05-27', horaFin: '20:00', color: '#a78bfa' }
    ];
    const grilla = document.getElementById('grillaEventos');
    function renderEventos() {
      grilla.innerHTML = '';
      // Obtener la fecha de hoy
      const hoy = new Date().toISOString().slice(0, 10);
      eventos.forEach((ev, idx) => {
        // Mostrar solo eventos del día actual
        if (ev.fechaInicio !== hoy) return;
        // Calcular posición y altura
        const start = parseInt(ev.horaInicio.split(':')[0]) + parseInt(ev.horaInicio.split(':')[1])/60;
        const end = parseInt(ev.horaFin.split(':')[0]) + parseInt(ev.horaFin.split(':')[1])/60;
        const top = (start - 8) * 40;
        const height = Math.max((end - start) * 40, 20);
        const div = document.createElement('div');
        div.className = 'absolute left-4 w-3/4 rounded-lg shadow-md flex flex-col justify-center px-4 font-semibold border-l-4 text-sm cursor-pointer group';
        div.style.top = `${top}px`;
        div.style.height = `${height}px`;
        div.style.background = ev.color + 'E6';
        div.style.borderColor = ev.color;
        div.innerHTML = `
          <div class="flex justify-between items-center">
            <span>${ev.titulo}<span class="block text-xs font-normal">${ev.fechaInicio || ''} ${ev.horaInicio} – ${ev.fechaFin || ''} ${ev.horaFin}</span></span>
            <button onclick="eliminarEvento(${idx})" class="opacity-0 group-hover:opacity-100 ml-2 text-red-500 hover:text-red-700 text-lg font-bold">&times;</button>
          </div>
        `;
        grilla.appendChild(div);
      });
    }
    function eliminarEvento(idx) {
      eventos.splice(idx, 1);
      renderEventos();
    }
    window.eliminarEvento = eliminarEvento;
    // Modal
    const modal = document.getElementById('modalEvento');
    document.getElementById('btnAgregarEvento').onclick = () => {
      modal.classList.remove('hidden');
    };
    document.getElementById('cerrarModal').onclick = () => {
      modal.classList.add('hidden');
    };
    document.getElementById('formEvento').onsubmit = function(e) {
      e.preventDefault();
      const titulo = document.getElementById('tituloEvento').value;
      const fechaInicio = document.getElementById('fechaInicio').value;
      const horaInicio = document.getElementById('horaInicio').value;
      const fechaFin = document.getElementById('fechaFin').value;
      const horaFin = document.getElementById('horaFin').value;
      const color = document.querySelector('input[name="color"]:checked').value;
      eventos.push({ titulo, fechaInicio, horaInicio, fechaFin, horaFin, color });
      renderEventos();
      modal.classList.add('hidden');
      this.reset();
    };
    // Render inicial al mostrar calendario
    document.getElementById('calendario').addEventListener('transitionend', function() {
      if (!this.classList.contains('hidden')) renderEventos();
    });
    // Si se navega directo, renderiza igual
    if (!document.getElementById('calendario').classList.contains('hidden')) renderEventos();
    </script>
</body>

</html>